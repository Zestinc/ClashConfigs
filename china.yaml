port: 7890
socks-port: 7891
redir-port: 7892
tproxy-port: 7893
allow-lan: false
bind-address: '*'
mode: rule
log-level: info
external-controller: '127.0.0.1:9090'
sniffer:
    enable: true
    sniffing: [tls, http]
dns:
    enable: true
    ipv6: false
    default-nameserver: [223.5.5.5]
    fake-ip-range: 198.18.0.1/16
    fake-ip-filter: ['*.lan', '*.linksys.com', +.pool.ntp.org, localhost.ptlogin2.qq.com]
    nameserver: ['https://dns.alidns.com/dns-query', 'https://doh.pub/dns-query']
    fallback: ['https://doh.pub/dns-query', 'https://dns.google/dns-query']
    fallback-filter: { geoip: true, ipcidr: [240.0.0.0/4, 0.0.0.0/32] }
proxies:
proxy-providers:
  EdNovas:
    type: http
    path: ./profiles/provider_EdNovas.yml
    url: https://cdn.ednovas.tech/api/v1/client/subscribe?token=edb1c56c745a3790b1506e2e18b3f833&flag=clash
    interval: 600
    health-check:
      enable: true  # 是否自动进行latency-test
      url: http://www.baidu.com/cache/global/img/gs.gif
      interval: 3600
proxy-groups:
    # Functions
    - { name: '🔰 手动选择', type: select, proxies: ['🇨🇳 China'] } 
    # Rigions
    - {name: '🇨🇳 China', type: url-test, use: [EdNovas], filter: "有日志记录|🇨🇳", icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/China.png, interval: 120, lazy: true, tolerance: 50, include-all: true }
    - {name: '🇺🇸 United States', type: url-test, use: [EdNovas], filter: "美|🇺🇲|US|(?i)States|America", icon: https://fastly.jsdelivr.net/gh/Koolson/Qure/IconSet/Color/United_States.png, interval: 120, lazy: true, tolerance: 50, include-all: true, url: https://www.google.com }

rule-providers:
    SteamCN: { type: http, behavior: classical, path: ./providers/rule/Games/SteamCN.yaml, url: http://154.17.13.205:32580/ACL4SSR/Clash/Providers/Ruleset/SteamCN.yaml, interval: 21600 }
    ChinaDomain: { type: http, behavior: classical, path: ./providers/rule/ChinaDomain.yaml, url: http://154.17.13.205:32580/ACL4SSR/Clash/Providers/ChinaDomain.yaml, interval: 21600 }
    DirectChinaDomain: { type: http, behavior: classical, path: ./providers/rule/DirectChinaDomain.yaml, url: https://raw.githubusercontent.com/Zestinc/ClashConfigs/main/DirectChinaDomain.yaml, interval: 21600 }
    ChinaIp: { type: http, behavior: ipcidr, path: ./providers/rule/ChinaIp.yaml, url: http://154.17.13.205:32580/ACL4SSR/Clash/Providers/ChinaIp.yaml, interval: 21600 }
rules:
    - 'IP-CIDR,192.168.0.0/16,DIRECT,no-resolve'
    - 'IP-CIDR,10.0.0.0/8,DIRECT,no-resolve'
    - 'IP-CIDR,172.16.0.0/12,DIRECT,no-resolve'
    - 'IP-CIDR,127.0.0.0/8,DIRECT,no-resolve'
    - 'IP-CIDR,100.64.0.0/10,DIRECT,no-resolve'
    - 'IP-CIDR6,::1/128,DIRECT,no-resolve'
    - 'IP-CIDR6,fc00::/7,DIRECT,no-resolve'
    - 'IP-CIDR6,fe80::/10,DIRECT,no-resolve'
    - 'IP-CIDR6,fd00::/8,DIRECT,no-resolve'
    - 'DOMAIN-SUFFIX,cm.steampowered.com,DIRECT'
    - 'DOMAIN-SUFFIX,steamserver.net,DIRECT'
    - 'DOMAIN,portal.36d.uk,DIRECT'
    - 'DOMAIN,user.36d.biz,DIRECT'
    - 'DOMAIN,user.36d.dev,DIRECT'
    - 'DOMAIN,pemby.ednovas.org,🇺🇸 United States'
    - 'DOMAIN,91porn.com,🇺🇸 United States'
    - 'DOMAIN,t66y.com,🇺🇸 United States'
    - 'DOMAIN,pornhub.com,🇺🇸 United States'
    - 'RULE-SET,DirectChinaDomain,DIRECT'
    - 'RULE-SET,SteamCN,🔰 手动选择'
    - 'RULE-SET,ChinaDomain,🔰 手动选择'
    - 'RULE-SET,ChinaIp,🔰 手动选择'